<idea-plugin version="1">
  <id>siani.dev.tara</id>
  <name>Tara Plugin</name>
  <!--gen %version%-->
  <version>
    1.0
  </version>
  <!--end-->
  <vendor email="octavioroncal@siani.es" url="http://www.monet.org">Siani</vendor>

  <!--gen %description%-->
  <description>
    <![CDATA[
      Siani development tool for the generation of model-based plugins
      ]]>
  </description>
  <!--end-->

  <change-notes><![CDATA[ First Realease. Windows integration. ]]>
  </change-notes>

  <idea-version since-build="135.375"/>

  <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->

  <actions>
    <action id="NewConcept" class="monet.tara.intellij.actions.CreateTaraFileAction">
      <add-to-group group-id="NewGroup" anchor="first"/>
    </action>
    <!--gen %%-->
    <action id="NewPackage" class="monet.tara.intellij.actions.CreatePackageAction" text="Package"
            description="Create a new package" icon="AllIcons.Nodes.Package">
    </action>
    <!--end-->
    <!--gen %%-->
    <group id="Internal.Tara" text="Tara" popup="true" internal="true">
      <action id="ExcludeFromCodeGeneration"
              class="monet.tara.intellij.compiler.ExcludeFromStubGenerationAction"
              text="Exclude from stub generation"
              description="Don't generate Java stubs for this Tara file on compilation">
        <add-to-group group-id="EditorTabPopupMenu" anchor="first"/>
      </action>
      <add-to-group group-id="Internal"/>
    </group>
    <!--end-->
  </actions>

  <application-components>
  </application-components>

  <extensions defaultExtensionNs="com.intellij">
    <fileDocumentManagerListener implementation="monet.tara.intellij.codegeneration.TaraFileDocumentManagerListener"/>
    <errorHandler implementation="monet.tara.intellij.diagnostic.errorreporting.PluginErrorReportSubmitter"/>
    <lang.namesValidator language="Tara"
                         implementationClass="monet.tara.intellij.refactoring.rename.NamesValidator"/>
    <projectService serviceInterface="monet.tara.intellij.metamodel.psi.TaraElementFactory"
                    serviceImplementation="monet.tara.intellij.metamodel.psi.impl.TaraElementFactoryImpl"/>
    <moduleType id="TARA_MODULE" implementationClass="monet.tara.intellij.project.module.ModuleType"/>
    <treeStructureProvider implementation="monet.tara.intellij.project.view.MergerTreeStructureProvider"/>
    <fileTemplateGroup implementation="monet.tara.intellij.actions.TaraTemplatesFactory"/>
    <codeInsight.lineMarkerProvider language="Tara"
                                    implementationClass="monet.tara.intellij.codeinsight.TaraLineMarkerProvider"/>
    <gotoRelatedProvider implementation="monet.tara.intellij.codeinsight.TaraRelatedFilesProvider"/>
    <!--gen %%-->
    <compileServer.plugin classpath="tara-jps-plugin.jar"/>
    <projectConfigurable instance="monet.tara.intellij.compiler.TaraCompilerConfigurable" id="Tara compiler"
                         displayName="Tara Compiler" parentId="project.propCompiler"/>
    <projectService serviceInterface="monet.tara.intellij.compiler.TaraCompilerWorkspaceConfiguration"
                    serviceImplementation="monet.tara.intellij.compiler.TaraCompilerWorkspaceConfiguration"/>
    <projectService serviceInterface="monet.tara.intellij.compiler.TaraCompilerConfiguration"
                    serviceImplementation="monet.tara.intellij.compiler.TaraCompilerConfiguration"/>
    <!--end-->

    <configurationType implementation="monet.tara.intellij.project.runner.RunConfigurationType"/>
    <lang.commenter language="Tara" implementationClass="monet.tara.intellij.TaraCommenter"/>
    <lang.documentationProvider language="Tara"
                                implementationClass="monet.tara.intellij.documentation.TaraDocumentationProvider"/>
    <fileTypeFactory implementation="monet.tara.intellij.metamodel.file.TaraFileTypeFactory"/>
    <lang.parserDefinition language="Tara"
                           implementationClass="monet.tara.intellij.metamodel.parser.TaraParserDefinition"/>
    <lang.syntaxHighlighterFactory key="Tara"
                                   implementationClass="monet.tara.intellij.highlighting.TaraSyntaxHighlighterFactory"/>
    <colorSettingsPage implementation="monet.tara.intellij.highlighting.TaraColorSettingPage"/>
    <lang.braceMatcher language="Tara" implementationClass="monet.tara.intellij.highlighting.TaraBraceMatcher"/>
    <annotator language="Tara" implementationClass="monet.tara.intellij.annotator.ReferenceAnnotator"/>
    <annotator language="Tara" implementationClass="monet.tara.intellij.annotator.AnnotationsAnnotator"/>
    <annotator language="Tara" implementationClass="monet.tara.intellij.annotator.AttributeAnnotator"/>
    <annotator language="Tara" implementationClass="monet.tara.intellij.annotator.ConceptAnnotator"/>
    <annotator language="Tara" implementationClass="monet.tara.intellij.annotator.PackageAnnotator"/>
    <completion.contributor language="Tara"
                            implementationClass="monet.tara.intellij.codeinsight.completion.TaraSignatureCompletionContributor"/>
    <completion.contributor language="Tara"
                            implementationClass="monet.tara.intellij.codeinsight.completion.TaraPrimitivesCompletionContributor"/>
    <completion.contributor language="Tara"
                            implementationClass="monet.tara.intellij.codeinsight.completion.TaraAnnotationsCompletionContributor"/>
    <lang.psiStructureViewFactory language="Tara"
                                  implementationClass="monet.tara.intellij.structureview.StructureViewFactory"/>
    <!--<psi.referenceContributor implementation="monet.tara.intellij.TaraReferenceContributor"/>-->
    <nameSuggestionProvider implementation="monet.tara.intellij.refactoring.NameSuggestionProvider"/>
    <lang.elementManipulator forClass="monet.tara.intellij.metamodel.psi.TaraIdentifier"
                             implementationClass="monet.tara.intellij.metamodel.psi.impl.IdentifierManipulator"/>

    <lang.refactoringSupport language="Tara"
                             implementationClass="monet.tara.intellij.TaraRefactoringSupportProvider"/>
    <renameHandler implementation="monet.tara.intellij.refactoring.rename.RenameHandler"/>
    <lang.findUsagesProvider language="Tara"
                             implementationClass="monet.tara.intellij.TaraFindUsagesProvider"/>
    <lang.foldingBuilder language="Tara" implementationClass="monet.tara.intellij.TaraFoldingBuilder"/>
    <projectService serviceInterface="monet.tara.intellij.codeinsight.JavaHelper"
                    serviceImplementation="monet.tara.intellij.codeinsight.JavaHelper$Impl"/>
    <!--<referenceImporter implementation="monet.tara.intellij.annotator.imports.TaraReferenceImporter"/>-->
    <!--<lang.formatter language="Tara" implementationClass="monet.tara.intellij.formatter.TaraFormattingModelBuilder"/>-->
    <!--<refactoring.moveHandler implementation="com.intellij.uiDesigner.projectView.FormMoveProvider"/>-->
  </extensions>
</idea-plugin>