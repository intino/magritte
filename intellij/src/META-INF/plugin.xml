<idea-plugin version="1" url="http://tara.siani.es">
  <id>siani.dev.tara</id>
  <name>Tara</name>
  <version>
    RC1
  </version>
  <vendor email="support.tara@siani.es" url="http://www.siani.es">Tara Modeling Language</vendor>

  <description>
    <![CDATA[
        <p>Tara is a modeling language oriented to define Domain Specific Languages (DSL). It supports the Model Driven
        Engineering methodology (MDE) to create the different abstraction levels: system, model and metamodel.
        To get started visit <a href="http://tara.siani.es/gettingstarted">http://tara.siani.es/gettingstarted</a>.</p>

        <p>Download the Tara SDK from <a href="http://tara.siani.es/downloads">http://tara.siani.es/downloads</a></p>
      ]]>
  </description>

  <change-notes><![CDATA[ ]]>
  </change-notes>

  <idea-version since-build="133.375"/>

  <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends> -->

  <actions>
    <action id="NewTaraFile" class="siani.tara.intellij.actions.CreateTaraFileAction">
      <add-to-group group-id="NewGroup" anchor="first"/>
    </action>
    <action id="NewPackage" class="siani.tara.intellij.actions.CreatePackageAction" text="Package"
            description="Create a new package" icon="AllIcons.Nodes.Package">
    </action>
    <group id="tara.import.group" popup="false">
      <action id="ImportModel" class="siani.tara.intellij.actions.ImportModelAction" text="Import Model"
              description="Import model">
        <keyboard-shortcut keymap="$default" first-keystroke="control shift I"/>
      </action>
      <add-to-group group-id="ToolsMenu" anchor="before" relative-to-action="com.intellij.tools.ExternalToolsGroup"/>
    </group>

    <group id="tara.export.group" popup="false">
      <action id="ExportModel" class="siani.tara.intellij.actions.ExportModelAction" text="Build SDK from Models"
              description="Build SDK from models">
        <keyboard-shortcut keymap="$default" first-keystroke="control shift E"/>
      </action>
      <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="Compile"/>
      <add-to-group group-id="BuildMenu" anchor="after" relative-to-action="BuildJar"/>
      <add-to-group group-id="EditorPopupMenu" anchor="last"/>
    </group>

    <group id="tara.file.group" popup="false">
      <action id="tara.Generate" class="siani.tara.intellij.actions.GenerateAction" text="Link to Java">
        <keyboard-shortcut keymap="$default" first-keystroke="control shift G"/>
      </action>
      <add-to-group group-id="ToolsMenu" anchor="before" relative-to-action="com.intellij.tools.ExternalToolsGroup"/>
      <add-to-group group-id="EditorPopupMenu" anchor="last"/>
      <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
    </group>

    <group id="tara.module.group" popup="false">
      <action id="configModule" class="siani.tara.intellij.actions.ConfigModuleAction" text="Configure tara module"
              description="Set parent and level of module">
      </action>
      <add-to-group group-id="ProjectViewPopupMenu" anchor="before" relative-to-action="Compile"/>
    </group>

    <group id="Internal.Tara" text="Tara" popup="true" internal="true">
      <action id="ExcludeFromCodeGeneration"
              class="siani.tara.intellij.compiler.ExcludeFromStubGenerationAction"
              text="Exclude from stub generation"
              description="Don't generate Java stubs for this Tara file on compilation">
        <add-to-group group-id="EditorTabPopupMenu" anchor="first"/>
      </action>
      <add-to-group group-id="Internal"/>
    </group>
    <action id="siani.tara.intellij.actions.SubmitFeedbackAction"
            class="siani.tara.intellij.actions.SubmitFeedbackAction"
            text="Summit Tara Feedback" description="You can report a bug or suggestion of plugin">
      <add-to-group group-id="HelpMenu" anchor="before" relative-to-action="TechnicalSupport"/>
    </action>
    <action id="siani.tara.intellij.actions.TriggerExceptionAction"
            class="siani.tara.intellij.actions.TriggerExceptionAction" text="Trigger Exception">
      <add-to-group group-id="HelpMenu" anchor="first"/>
    </action>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
    <!--<fileDocumentManagerListener implementation="siani.tara.intellij.codegeneration.TaraFileDocumentManagerListener"/>-->
    <errorHandler implementation="siani.tara.intellij.diagnostic.errorreporting.PluginErrorReportSubmitter"/>
    <lang.namesValidator language="Tara"
                         implementationClass="siani.tara.intellij.refactoring.rename.NamesValidator"/>
    <projectService serviceInterface="siani.tara.intellij.lang.psi.TaraElementFactory"
                    serviceImplementation="siani.tara.intellij.lang.psi.impl.TaraElementFactoryImpl"/>
    <sdkType implementation="siani.tara.intellij.project.sdk.TaraJdk"/>
    <moduleType id="TARA_MODULE" implementationClass="siani.tara.intellij.project.module.TaraModuleType"/>
    <treeStructureProvider implementation="siani.tara.intellij.project.view.MergerTreeStructureProvider"/>
    <fileTemplateGroup implementation="siani.tara.intellij.actions.TaraTemplatesFactory"/>
    <codeInsight.lineMarkerProvider language="Tara"
                                    implementationClass="siani.tara.intellij.codeinsight.linemarkers.TaraIntentionLineMarkerProvider"/>
    <codeInsight.lineMarkerProvider language="Tara"
                                    implementationClass="siani.tara.intellij.codeinsight.linemarkers.TaraFacetApplyLineMarkerProvider"/>
    <codeInsight.lineMarkerProvider language="Tara"
                                    implementationClass="siani.tara.intellij.codeinsight.linemarkers.TaraMetricLineMarkerProvider"/>
    <codeInsight.lineMarkerProvider language="JAVA"
                                    implementationClass="siani.tara.intellij.codeinsight.linemarkers.JavaIntentionToTaraLineMarkerProvider"/>
    <codeInsight.lineMarkerProvider language="JAVA"
                                    implementationClass="siani.tara.intellij.codeinsight.linemarkers.JavaFacetToTaraLineMarkerProvider"/>
    <gotoRelatedProvider implementation="siani.tara.intellij.codeinsight.TaraRelatedFilesProvider"/>
    <compileServer.plugin classpath="tara-jps-plugin.jar"/>
    <projectConfigurable instance="siani.tara.intellij.compiler.TaraCompilerConfigurable" id="Tara compiler"
                         displayName="Tara Compiler" parentId="project.propCompiler"/>
    <projectService serviceInterface="siani.tara.intellij.compiler.TaraCompilerWorkspaceConfiguration"
                    serviceImplementation="siani.tara.intellij.compiler.TaraCompilerWorkspaceConfiguration"/>
    <projectService serviceInterface="siani.tara.intellij.compiler.TaraCompilerConfiguration"
                    serviceImplementation="siani.tara.intellij.compiler.TaraCompilerConfiguration"/>

    <configurationType implementation="siani.tara.intellij.project.runner.RunConfigurationType"/>
    <lang.commenter language="Tara" implementationClass="siani.tara.intellij.TaraCommenter"/>
    <lang.documentationProvider language="Tara"
                                implementationClass="siani.tara.intellij.documentation.TaraDocumentationProvider"/>
    <fileTypeFactory implementation="siani.tara.intellij.lang.file.TaraFileTypeFactory"/>
    <lang.parserDefinition language="Tara"
                           implementationClass="siani.tara.intellij.lang.parser.TaraParserDefinition"/>
    <lang.syntaxHighlighterFactory key="Tara"
                                   implementationClass="siani.tara.intellij.highlighting.TaraSyntaxHighlighterFactory"/>
    <colorSettingsPage implementation="siani.tara.intellij.highlighting.TaraColorSettingPage"/>
    <lang.braceMatcher language="Tara" implementationClass="siani.tara.intellij.highlighting.TaraBraceMatcher"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.ReferenceAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.AnnotationsAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.ConceptAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.DSLDeclarationAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.ParameterAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.ParametersAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.FacetApplyAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.ConceptTypeAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.ConceptReferenceAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.FacetTargetAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.RequiredConceptsAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.VarInitAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.DateValueAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.MeasureAnnotator"/>
    <!--<annotator language="Tara" implementationClass="siani.tara.intellij.annotator.AddressAnnotator"/>-->
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.AggregatedConceptAnnotator"/>
    <annotator language="Tara" implementationClass="siani.tara.intellij.annotator.VariableAnnotator"/>
    <completion.contributor language="Tara"
                            implementationClass="siani.tara.intellij.codeinsight.completion.TaraConceptCompletionContributor"/>
    <completion.contributor language="Tara"
                            implementationClass="siani.tara.intellij.codeinsight.completion.TaraPrimitivesCompletionContributor"/>
    <completion.contributor language="Tara"
                            implementationClass="siani.tara.intellij.codeinsight.completion.TaraAnnotationsCompletionContributor"/>
    <lang.psiStructureViewFactory language="Tara"
                                  implementationClass="siani.tara.intellij.structureview.StructureViewFactory"/>
    <!--<psi.referenceContributor implementation="siani.tara.intellij.lang.psi.resolve.TaraReferenceContributor"/>-->
    <nameSuggestionProvider implementation="siani.tara.intellij.refactoring.NameSuggestionProvider"/>
    <lang.elementManipulator forClass="siani.tara.intellij.lang.psi.TaraIdentifier"
                             implementationClass="siani.tara.intellij.lang.psi.impl.IdentifierManipulator"/>
    <codeInsight.parameterInfo language="Tara"
                               implementationClass="siani.tara.intellij.codeinsight.parameterinfo.TaraParameterInfoHandler"/>

    <lang.refactoringSupport language="Tara"
                             implementationClass="siani.tara.intellij.TaraRefactoringSupportProvider"/>
    <renameHandler implementation="siani.tara.intellij.refactoring.rename.RenameHandler"/>
    <lang.findUsagesProvider language="Tara"
                             implementationClass="siani.tara.intellij.lang.psi.resolve.TaraFindUsagesProvider"/>
    <lang.foldingBuilder language="Tara" implementationClass="siani.tara.intellij.TaraFoldingBuilder"/>
    <projectService serviceInterface="siani.tara.intellij.codeinsight.JavaHelper"
                    serviceImplementation="siani.tara.intellij.codeinsight.JavaHelper$Impl"/>
    <!--<facetType implementation="siani.tara.intellij.project.facet.MagritteFacetType"/>-->
    <!--<referenceImporter implementation="siani.tara.intellij.annotator.imports.TaraReferenceImporter"/>-->
    <!--<lang.formatter language="Tara" implementationClass="siani.tara.intellij.formatter.TaraFormattingModelBuilder"/>-->
    <!--<moveFileHandler implementation="siani.tara.intellij.refactoring.move.TaraFileMoveHandler"/>-->
    <refactoring.moveHandler implementation="siani.tara.intellij.refactoring.move.TaraMoveConcept"/>
    <lang.importOptimizer language="Tara"
                          implementationClass="siani.tara.intellij.codeinsight.imports.TaraImportOptimizer"/>
    <findUsagesHandlerFactory implementation="siani.tara.intellij.findusage.TaraFindUsagesHandlerFactory" id="Tara"
                              order="last, before default"/>
    <intentionAction>
      <className>siani.tara.intellij.codeinsight.intentions.InlineToIndentConverter</className>
      <category>Indent Operator</category>
      <descriptionDirectoryName>InlineToIndentConverter</descriptionDirectoryName>
    </intentionAction>
    <intentionAction>
      <className>siani.tara.intellij.codeinsight.intentions.IndentToInlineConverter</className>
      <category>Indent Operator</category>
      <descriptionDirectoryName>IndentToInlineConverter</descriptionDirectoryName>
    </intentionAction>
    <intentionAction>
      <className>siani.tara.intellij.codeinsight.intentions.ImplicitToExplicitParameters</className>
      <category>Parameter View Operator</category>
      <descriptionDirectoryName>ImplicitToExplicitParameters</descriptionDirectoryName>
    </intentionAction>
    <intentionAction>
      <className>siani.tara.intellij.codeinsight.intentions.ExplicitToImplicitParameters</className>
      <category>Parameter View Operator</category>
      <descriptionDirectoryName>ImplicitToExplicitParameters</descriptionDirectoryName>
    </intentionAction>
  </extensions>

  <application-components>
  </application-components>

  <module-components>
    <component>
      <implementation-class>siani.tara.intellij.project.module.ModuleConfiguration</implementation-class>
    </component>
  </module-components>
</idea-plugin>