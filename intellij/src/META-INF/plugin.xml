<idea-plugin version="1">
  <id>siani.dev.tara</id>
  <name>Tara Plugin</name>
  <version>1.0</version>
  <vendor email="octavioroncal@siani.es" url="http://www.monet.org">Siani</vendor>

  <description><![CDATA[
      Enter short description for your plugin here.<br>
      <small>most HTML tags may be used</small>
      ]]></description>

  <change-notes><![CDATA[
      Add change notes here.<br>
      <small>most HTML tags may be used</small>
      ]]>
  </change-notes>

  <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Build+Number+Ranges for description -->
  <idea-version since-build="133.331"/>

  <!-- please see http://confluence.jetbrains.net/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->

  <actions>
    <action id="BashErrorReporter.TriggerException"
            class="monet.tara.intellij.actions.TriggerExceptionAction"
            text="Trigger Exception"
            description="Triggers an exception">
      <add-to-group group-id="ToolsMenu" anchor="last"/>
    </action>
    <action id="NewConcept" class="monet.tara.intellij.actions.CreateFileAction">
      <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
    </action>
    <action id="NewTaraPackage" class="monet.tara.intellij.actions.CreatePackageAction" text="Package"
            description="Create a new package" icon="AllIcons.Nodes.Package">
      <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewConcept"/>
    </action>
  </actions>

  <application-components>
  </application-components>

  <extensions defaultExtensionNs="com.intellij">
    <projectConfigurable instance="monet.tara.intellij.project.module.ModuleSettings" id="ModuleSettings"
                         displayName="Tara"
                         order="last"/>
    <errorHandler implementation="monet.tara.intellij.diagnostic.errorreporting.PluginErrorReportSubmitter"/>
    <lang.namesValidator language="Tara"
                         implementationClass="monet.tara.intellij.refactoring.rename.NamesValidator"/>
    <projectService serviceInterface="monet.tara.intellij.metamodel.psi.TaraElementFactory"
                    serviceImplementation="monet.tara.intellij.metamodel.psi.impl.TaraElementFactoryImpl"/>
    <moduleType id="TARA_MODULE" implementationClass="monet.tara.intellij.project.module.ModuleType"/>

    <projectConfigurable instance="monet.tara.intellij.compiler.TaraCompilerConfigurable" id="Tara compiler"
                         displayName="Tara Compiler" parentId="project.propCompiler"/>
    <compileServer.plugin classpath="tara-jps-plugin.jar"/>

    <projectService serviceInterface="monet.tara.intellij.compiler.TaraCompilerWorkspaceConfiguration"
                    serviceImplementation="monet.tara.intellij.compiler.TaraCompilerWorkspaceConfiguration"/>
    <projectService serviceInterface="monet.tara.intellij.compiler.TaraCompilerConfiguration"
                    serviceImplementation="monet.tara.intellij.compiler.TaraCompilerConfiguration"/>

    <configurationType implementation="monet.tara.intellij.project.runner.RunConfigurationType"/>
    <lang.commenter language="Tara" implementationClass="monet.tara.intellij.TaraCommenter"/>
    <lang.documentationProvider language="Tara"
                                implementationClass="monet.tara.intellij.documentation.TaraDocumentationProvider"/>
    <fileTypeFactory implementation="monet.tara.intellij.metamodel.file.TaraFileTypeFactory"/>
    <lang.parserDefinition language="Tara"
                           implementationClass="monet.tara.intellij.metamodel.parser.TaraParserDefinition"/>
    <lang.syntaxHighlighterFactory key="Tara"
                                   implementationClass="monet.tara.intellij.highlighting.TaraSyntaxHighlighterFactory"/>
    <colorSettingsPage implementation="monet.tara.intellij.highlighting.TaraColorSettingPage"/>
    <lang.braceMatcher language="Tara" implementationClass="monet.tara.intellij.highlighting.TaraBraceMatcher"/>
    <annotator language="Tara" implementationClass="monet.tara.intellij.TaraAnnotator"/>
    <globalInspection language="Tara" shortName="UnusedConcept" bundle="messages.TaraBundle"
                      key="unused.concept.inspection.display.name"
                      groupKey="tara.files.inspection.group.display.name" enabledByDefault="true" level="WARNING"
                      implementationClass="monet.tara.intellij.codeinspection.UnusedAbstractConceptInspection"/>
    <completion.contributor language="Tara"
                            implementationClass="monet.tara.intellij.codeInsight.completion.TaraSignatureCompletionContributor"/>
    <completion.contributor language="Tara"
                            implementationClass="monet.tara.intellij.codeInsight.completion.TaraPrimitivesCompletionContributor"/>
    <completion.contributor language="Tara"
                            implementationClass="monet.tara.intellij.codeInsight.completion.TaraAnnotationsCompletionContributor"/>
    <lang.psiStructureViewFactory language="Tara"
                                  implementationClass="monet.tara.intellij.structureview.StructureViewFactory"/>
    <psi.referenceContributor language="Tara" implementation="monet.tara.intellij.TaraReferenceContributor"/>
    <nameSuggestionProvider implementation="monet.tara.intellij.refactoring.NameSuggestionProvider"/>
    <lang.elementManipulator forClass="monet.tara.intellij.metamodel.psi.TaraIdentifier"
                             implementationClass="monet.tara.intellij.metamodel.psi.impl.IdentifierManipulator"/>
    <lang.refactoringSupport language="Tara"
                             implementationClass="monet.tara.intellij.TaraRefactoringSupportProvider"/>
    <renameHandler implementation="monet.tara.intellij.refactoring.rename.RenameHandler"/>
    <lang.findUsagesProvider language="Tara"
                             implementationClass="monet.tara.intellij.TaraFindUsagesProvider"/>
    <lang.foldingBuilder language="Tara" implementationClass="monet.tara.intellij.TaraFoldingBuilder"/>
    <!--<lang.formatter language="Tara" implementationClass="monet.tara.intellij.formatter.TaraFormattingModelBuilder"/>-->
  </extensions>
</idea-plugin>